# ArableLandscape-PestControl

![Model description](https://github.com/user-attachments/assets/20394839-a73e-4bcc-9e45-5a9dc866cf2f)

## Overview
This repository will contain the code for modeling the dynamics of pest-regulating hoverflies (*Diptera: Syrphinae*) and their aphid prey across various agricultural and non-crop habitats. The model simulates how different landscape compositions, including early-season crops, late-season crops, flower-rich field margins, and woody areas, affect the survival and effectiveness of hoverflies as natural pest control agents.
For an in-depth model description, please check out our publication and its supplementary material: 

Mansier, L. \& van Rijn, P.C.J. (2024). Agricultural landscape management for natural pest control. 
*Journal of Applied Ecology*, 61(11), 2701–2716.

and 

Mansier, L., ten Brink J.A., Janssen A. & van Rijn, P.C.J. 
How semi-natural habitats can maximally support nautral pest control. (in prep)

## Key Features
- **Landscape-Based Modeling:** Simulates hoverfly resource utilization across different habitats in agricultural landscapes.
- **Dynamic Pest Control:** Predicts the effectiveness of natural pest control based on the availability of prey and floral resources throughout the year.
- **Multi-Habitat Integration:** Includes multiple habitat types that provide essential resources at different times of the year.

## Getting Started
### Prerequisites
- R
- Package "deSolve"

### Running the model
The model can be found in the *Main_model_components* folder. Before running this script, you will need to install the package DeSolve if this package is not installed yet `install.packages("deSolve")`. The model can be found in the "Main_model_components" folder. This folder contains a script with the model itself "Functions_model", 
a script with all the parameters "Pars_model" and a script to run the bifurcation analyses "Run_model_all".
If all these scripts are in the same folder, then you only need to run "Run_model_all" to obtain the data from the bifurcation analyses used in
our paper. Note that running this script will take a while.

You can visualise the data using our data visualisation scripts that are in the "Figures" folder.
By first running the script "CalculateAverages", you will save the averages of the bifurcation analyses.
Then you can run "PrepFigures" and "Figures" (in order) to generate the graphs used in our paper.

The other scripts found in the "Figures" folder, namely "Timeseries_B2m_B3m_low" and "Timeseries_n1a" are used to 
create the timeseries figures found in the supplementary information of our paper.

## Citation
If you want to use this model in your research please reach out, we are happy to collaborate!
Always cite our paper and model if you use this model or data generated by our model in your research:

Papers:
Mansier, L. \& van Rijn, P.C.J. (2024). Agricultural landscape management for natural pest control. 
*Journal of Applied Ecology*, 61(11), 2701–2716.

Reference: Mansier, L., ten Brink J.A., Janssen A. & van Rijn, P.C.J. 
How semi-natural habitats can maximally support nautral pest control. (in prep)

Model:
Mansier, L., ten Brink J.A., Janssen A. & van Rijn, P.C.J. (2025). Model: How semi-natural habitats can maximally support nautral pest control. Zenodo. [https://doi.org/10.5281/zenodo.16980965](https://doi.org/10.5281/zenodo.16980965)

## Contributors
- **Laura Mansier** - Lead Author, Model Development - [lauramansier.github.io](https://lauramansier.github.io/)
- **Hanna ten Brink** - Model development - [Dr. Hanna ten Brink](https://www.uva.nl/profiel/b/r/j.a.ten-brink/j.a.ten-brink.html)
- **Paul C.J. van Rijn:** - Model Development - [Dr. P.C.J. van Rijn](https://www.uva.nl/en/profile/r/i/p.c.j.vanrijn/p.c.j.vanrijn.html)

## Contribute
If you find any issue/bug/proposal, open an issue and we will try to solve/discuss it.
Pull requests are more than welcome. For major changes, please open an issue first to discuss what you would like to change. 

## Acknowledgments
This research was supported by the [FRAMEwork H2020 project](https://www.framework-biodiversity.eu/) and conducted at the [Institute for Biodiversity and Ecosystem Services](https://ibed.uva.nl/), specifically at the [Evolutionary and Population Biology group](https://ibed.uva.nl/content/research-departments/epb/epb.html). You can find more information on sustainable agricultural practices at [Recodo](https://recodo.io/).






